---
layout: post
title:  "R语言基础函数介绍"
date:   2018-04-07 12:00:00
updated: 2019-08-30
categories: 编程入门
tags: R基础
excerpt: 基础函数是R组成重要部分，主要作用是变量转换、获取变量类型、数据处理、基本运算和字符串处理。
---

### 变量变换：转换变量类型

* as.array(x)
* as.data.frame(x)
* as.numeric(x)
* as.logical(x)
* as.complex(x)
* as.character(x)

### 变量信息：检验变量的类型

* is.na(x)
* is.null(x)
* is.array(x)
* is.data.frame(x)
* is.numeric(x)
* is.complex(x)
* is.character (x)


### 数据选取和操作

* which.max(x)：返回x中最大元素的指标
* which.min(x)：返回x中最小元素的指标
* rev(x)：翻转x中所有的元素
* sort(x)：升序排列x中的元素；降序排列使用：rev(sort(x))
* cut(x,breaks)：将x分割成为几段（或因子）；breaks为段数或分割点向量
* match(x,y)：返回一个和x长度相同且和y中元素相等的向量不等则返回NA
* which(x==a)：如果比较操作为真（TRUE）,返回向量x的指针
* choose(n,k)：组合数的计算
* na.omit(x)：去除缺失值(NA)（去除相关行如果x为矩阵或数据框）
* na.fail(x)：返回错误信息，如果x包含至少一个NA
* unique(x)：如果x为向量或数据框，返回唯一值
* table(x)：返回一个由x不同值个数组成的表格（通常用于整数或因子），即频数表
* subset(x,...)：根据条件（...选取x中元素，如x$V1<10）;如果x为数据框,选项select使用负号给出保留 或去除的变量 subset(x, subset, select, drop = FALSE, ...)
* sample(x,size)：不放回的随即在向量x中抽取size个元素,选项replace=TRUE允许放回抽取
* prop.table(x,margin=)：根据margin使用分数表示表格，wumargin时，所有元素和为1
* rbind(...)：以行的形式组合矩阵，数据框，或其它
* cbind(...)：以列的方式组合，其他同rbind()


### 基本运算函数
* rank()：计算向量的秩
* range(x)：返回c(min(x),max(x))
* sum(x)：x中各元素的加和
* diff(x)：向量x的差分
* prod(x)：x中元素的连乘积
* mean(x)：x的均值
* median(x)：x的中位数
* quantile(x,probs=)：满足给定概率的样本分位数（默认为0,0.25,0.75,1）
* weight.mean(x,w)：加权平均，w即为weight,即权值。
* var(x)：向量x的样本方差；如果x是矩阵或数据框，协方差矩阵将被计算 
* cor(x)：如果x是矩阵或数据框，相关系数矩阵将被计算
* sd(x)：x的标准差；sd(x)=sqrt(var(x))
* var(x,y) or cov(x,y)：x和y间的协方差；如果x,y为矩阵或数据框，返回x和y各列的协方差
* cor(x,y)：x和y的线性相关系数；或者相关矩阵，如果x和y为矩阵或者数据框
* round(x,n)：x的约数，精确到n位
* log(x,base)：计算x以base为基的对数，默认基为exp(1)
* scale(x)：如果x是一个矩阵，则中心化和标准化数据；若只标准化数据，则使用选center=FALSE，若只 中心化使用scale=FALSE(默认center=TRUE, scale=TRUE)
* pmin(x,y,...)：x[i],y[i]相比较小者，组成新的向量
* pmax(x,y,...)：x[i],y[i]相比较大者，组成新的向量
* Re(x)：复数的实部
* Im(x)：复数的虚部
* abs(x)：绝对值
* Arg(x)：复数角度(in radians)
* Conj(x)：共轭复数
* fft(x)：数组x的快速傅里叶变换
* mvfft(x)：矩阵x的每一列的傅里叶变换
* factorial()：计算n!
* setdiff(x, y)：取差集
* instersect(x, y)：取交集


### 字符操作
* paste(...)：转化为字符后连接向量；seq=为分割界限（一个空格为默认）；选择collapse=可以分割"collapse"结果
* substr(x,start,stop)：提取字符向量的子字段；同样可以赋值，使用substr(x,start,stop)<-value
* strsplit(x,split)：在split的位置分割x,例如：

```R
x <- strsplit("An R matrix corresponds to the mathematical concept"," ")
```


* length(x［1］); #注意：对象被存放在列表x的第一项中，可以用x［1］提取
* grep(pattern,x)：搜索x中满足pattern条件；参见?regex
* gsub(pattern,replacement,x)：替换满足正则表达式的字段,sub()类似，但只替换第一个出现的字段
* match(x,table)：table中匹配x元素位置组成的向量
* x%in%table：table中匹配x元素位置组成的向量,返回值为逻辑值
* pmatch(x,table)：table中部分匹配x元素
* nchar(x)：字符的个数
